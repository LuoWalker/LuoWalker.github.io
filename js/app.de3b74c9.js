(function(t){function e(e){for(var n,s,d=e[0],r=e[1],c=e[2],a=0,h=[];a<d.length;a++)s=d[a],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&h.push(l[s][0]),l[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,d=1;d<o.length;d++){var r=o[d];0!==l[r]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},l={app:0},i=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],r=d.push.bind(d);d.push=e,d=d.slice();for(var c=0;c<d.length;c++)e(d[c]);var u=r;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"05a6":function(t,e,o){"use strict";o("eccb")},"0a4b":function(t,e,o){"use strict";o("3105")},3105:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"root"},[e("Header",{on:{receive:t.receive}}),e("List",{attrs:{todos:t.todos}}),e("Footer",{attrs:{todos:t.todos,count:t.count,isSelectAll:t.isSelectAll},on:{selectAllTodo:t.selectAllTodo,deleteCompletedTodo:t.deleteCompletedTodo}})],1)},i=[],s=(o("3c65"),o("13d5"),function(){var t=this,e=t._self._c;return e("input",{staticClass:"input",attrs:{type:"text",placeholder:t.msg},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo.apply(null,arguments)}}})}),d=[],r=o("e1bd"),c={name:"Header",data(){return{msg:"请输入你的任务名称，按回车键确认"}},methods:{addTodo(t){if(!t.target.value.trim())return;const e={id:Object(r["a"])(),title:t.target.value,completed:!1};this.$emit("receive",e),t.target.value=""}}},u=c,a=(o("05a6"),o("2877")),h=Object(a["a"])(u,s,d,!1,null,null,null),p=h.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list"},[e("table",t._l(t.todos,(function(t){return e("tr",{key:t.id},[e("td",[e("Item",{attrs:{todo:t}})],1)])})),0)])},m=[],b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"item"},[e("input",{attrs:{type:"checkbox",id:"item"},domProps:{checked:t.todo.completed},on:{change:function(e){return t.handleCheck()}}}),e("label",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],attrs:{for:"item"}},[t._v(t._s(t.todo.title))]),e("input",{directives:[{name:"show",rawName:"v-show",value:t.todo.isEdit,expression:"todo.isEdit"}],ref:"input",attrs:{type:"text"},domProps:{value:t.todo.title},on:{blur:function(e){return t.handleConfirm(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleConfirm(e)}}}),e("button",{on:{click:function(e){return t.handleDelete()}}},[t._v("删除")]),e("button",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isEdit,expression:"!todo.isEdit"}],on:{click:function(e){return t.handleEdit()}}},[t._v("编辑")])])},v=[],T={name:"Item",data(){return{}},props:["todo"],methods:{handleCheck(){this.$bus.$emit("checkTodo",this.todo.id)},handleDelete(){this.$bus.$emit("deleteTodo",this.todo.id)},handleEdit(){this.$set(this.todo,"isEdit",!0),this.$nextTick(()=>{this.$refs.input.focus()})},handleConfirm(t){this.todo.isEdit=!1,this.$bus.$emit("updateTodo",this.todo.id,t.target.value)}}},y=T,k=(o("c5be"),Object(a["a"])(y,b,v,!1,null,null,null)),_=k.exports,g={name:"List",components:{Item:_},props:["todos"]},w=g,S=(o("ab53"),Object(a["a"])(w,f,m,!1,null,null,null)),x=S.exports,A=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.count.allTodo,expression:"count.allTodo"}],staticClass:"footer"},[e("input",{attrs:{type:"checkbox",id:"selectAll"},domProps:{checked:t.isSelectAll},on:{click:function(e){return t.handleSelectAll()}}}),e("label",{attrs:{for:"selectAll"}},[t._v("已完成"+t._s(t.count.completedTodo)+" / 全部"+t._s(t.count.allTodo))]),e("button",{on:{click:function(e){return t.handleDeleteCompleted()}}},[t._v("清除已完成任务")])])},O=[],$={name:"Footer",data(){return{}},props:["todos","count","isSelectAll"],methods:{handleSelectAll(){this.$emit("selectAllTodo")},handleDeleteCompleted(){this.$emit("deleteCompletedTodo")}}},C=$,E=(o("a200"),Object(a["a"])(C,A,O,!1,null,null,null)),j=E.exports,P={name:"App",components:{Header:p,List:x,Footer:j},data(){return{todos:JSON.parse(localStorage.getItem("todoList"))||[],count:{completedTodo:0,allTodo:0},isSelectAll:!1}},methods:{receive(t){this.todos.unshift(t)},checkTodo(t){this.todos.forEach((function(e){e.id===t&&(e.completed=!e.completed)})),this.count.completedTodo=this.todos.reduce((t,e)=>t+(e.completed?1:0),0),this.count.completedTodo===this.count.allTodo?this.isSelectAll=!0:this.isSelectAll=!1},deleteTodo(t){this.todos=this.todos.filter(e=>e.id!==t)},updateTodo(t,e){this.todos.forEach(o=>{o.id===t&&(o.title=e)})},selectAllTodo(){this.isSelectAll?(this.todos.forEach(t=>{t.completed=!1}),this.isSelectAll=!1):(this.todos.forEach(t=>{t.completed=!0}),this.isSelectAll=!0)},deleteCompletedTodo(){this.todos=this.todos.filter(t=>!1===t.completed)}},mounted(){this.count.completedTodo=this.todos.reduce((t,e)=>t+(e.completed?1:0),0),this.count.allTodo=this.todos.length,this.count.completedTodo===this.count.allTodo&&(this.isSelectAll=!0),this.$bus.$on("checkTodo",this.checkTodo),this.$bus.$on("updateTodo",this.updateTodo),this.$bus.$on("deleteTodo",this.deleteTodo)},updated(){this.count.completedTodo=this.todos.reduce((t,e)=>t+(e.completed?1:0),0),this.count.allTodo=this.todos.length,0===this.count.allTodo&&(this.isSelectAll=!1)},watch:{todos:{deep:!0,handler(t){localStorage.setItem("todoList",JSON.stringify(t))}}}},N=P,I=(o("0a4b"),Object(a["a"])(N,l,i,!1,null,null,null)),L=I.exports;n["a"].config.productionTip=!1,new n["a"]({render:t=>t(L),beforeCreate(){n["a"].prototype.$bus=this}}).$mount("#app")},7892:function(t,e,o){},a200:function(t,e,o){"use strict";o("b65f")},ab53:function(t,e,o){"use strict";o("ac1b")},ac1b:function(t,e,o){},b65f:function(t,e,o){},c5be:function(t,e,o){"use strict";o("7892")},eccb:function(t,e,o){}});
//# sourceMappingURL=app.de3b74c9.js.map